#!/bin/bash

# spread repo directory name
S_DIR=".spread"

# Directory script is in
SRC_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

# import global functions
source "project.sh"

# detect spread project
detectSpread $(pwd)

# Setup Git to use spread repo
GIT_DIR=${SPREAD}/git
GIT="git --git-dir=${GIT_DIR}"

# load commands
for file in ${SRC_DIR}/cmd/*.sh; do
    source $file
done

params=("$@")
eval "${1}Command ${params[@]:1}"
